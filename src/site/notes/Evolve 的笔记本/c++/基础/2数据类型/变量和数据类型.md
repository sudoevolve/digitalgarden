---
{"dg-publish":true,"permalink":"/Evolve 的笔记本/c++/基础/2数据类型/变量和数据类型/","created":"2025-01-17T15:20:53.222+08:00"}
---

在 C++ 中，**变量**和**数据类型**是基础概念，用来存储程序中的数据。理解这些概念是学习 C++ 编程的第一步。

### 1. **变量**概述

**变量**是内存中用来存储数据的命名位置。每个变量都有：

- **类型**：决定了存储数据的类型和大小。
- **名称**：用于在代码中引用该变量。
- **值**：变量的当前内容。

在 C++ 中，所有变量在使用之前必须先声明。

#### 1.1 变量声明

```cpp
int age;  // 声明一个整型变量 age
float weight;  // 声明一个浮动型变量 weight
```

- **语法**：`<数据类型> <变量名>;`
- **初始化变量**：可以在声明时给变量一个初值：
    
    ```cpp
    int age = 25;   // 声明并初始化变量
    ```
    

### 2. **数据类型**概述

数据类型定义了变量能够存储的值的类型，并决定了变量占用的内存大小。

C++ 中有两大类数据类型：

1. **基本数据类型**：如整型、浮动型、字符型等。
2. **用户定义的数据类型**：如类、结构体、枚举、联合等。

#### 2.1 **基本数据类型**

##### 整型（`int`）

- **`int`**：表示整数。它可以存储正整数、负整数和零。
- 常见大小：
    - `int`：通常占用 4 字节（在大多数系统上）。
- 示例：
    
    ```cpp
    int age = 30;  // 整数类型变量
    ```
    

##### 浮动型（`float`、`double`）

- **`float`**：表示单精度浮点数，通常占用 4 字节。
- **`double`**：表示双精度浮点数，通常占用 8 字节，精度比 `float` 高。
- 示例：
    
    ```cpp
    float height = 5.9f;  // 单精度浮动型
    double weight = 60.75; // 双精度浮动型
    ```
    

##### 字符型（`char`）

- **`char`**：表示一个字符，通常占用 1 字节。`char` 用来存储单个字符，例如字母或符号。
- 还可以表示小范围的整数（ASCII 值）。
- 示例：
    
    ```cpp
    char grade = 'A';  // 字符类型
    ```
    

##### 布尔型（`bool`）

- **`bool`**：表示布尔值，通常只有两种取值：`true`（真）和 `false`（假）。
- 示例：
    
    ```cpp
    bool isActive = true;  // 布尔类型
    ```
    

#### 2.2 **修饰符**

C++ 支持一些修饰符来扩展基本数据类型的功能，主要有：

- **`signed`**、**`unsigned`**：控制整数是否可以表示负数。
- **`short`**、**`long`**：控制整数的大小。

例如：

```cpp
unsigned int num = 42;    // 无符号整型，表示非负数
long int bigNum = 1234567890; // 长整型
short int smallNum = 1000; // 短整型
```

#### 2.3 **数据类型的大小**

不同的数据类型在不同平台上的大小可能有所不同，但在大多数平台上通常为：

- **`int`**：4 字节（32 位）
- **`float`**：4 字节（32 位）
- **`double`**：8 字节（64 位）
- **`char`**：1 字节（8 位）

可以使用 `sizeof` 运算符来查看数据类型的大小：

```cpp
cout << sizeof(int) << endl;  // 输出 int 类型的大小
cout << sizeof(double) << endl; // 输出 double 类型的大小
```

#### 2.4 **常量类型**

- **`const`**：用于声明常量，常量的值在程序运行时不能改变。
    
    ```cpp
    const int MAX_AGE = 100;  // MAX_AGE 是常量，不能修改
    ```
    

常量可以是任何数据类型。

#### 2.5 **字符串类型**

C++ 中并没有原生的字符串类型，但可以通过字符数组或 `std::string` 类型来表示字符串。

- **字符数组**：
    
    ```cpp
    char name[20] = "Alice";  // 用字符数组表示字符串
    ```
    
- **`std::string`**（标准库中的字符串类）：
    
    ```cpp
    string name = "Alice";  // 使用 string 类型表示字符串
    ```
    

### 3. **类型转换**

C++ 提供了几种类型转换的方法，包括：

- **隐式转换**（自动类型转换）：C++ 会自动进行类型转换（例如，将 `int` 转换为 `double`）。
- **显式转换**（强制类型转换）：通过 `static_cast`、`reinterpret_cast` 等进行类型转换。

```cpp
int x = 10;
double y = x;  // 隐式转换，x 自动转换为 double 类型

double pi = 3.14159;
int intPi = static_cast<int>(pi);  // 强制转换，pi 被转换为整数部分
```

### 4. **变量的作用域**

- **局部变量**：在函数或块内声明的变量，只能在该函数或块内使用。
    
    ```cpp
    void foo() {
        int x = 10;  // x 是局部变量，只在 foo 函数内有效
        cout << x << endl;
    }
    ```
    
- **全局变量**：在函数外部声明的变量，整个程序中都可以访问（如果没有局部变量遮蔽它的话）。
    
    ```cpp
    int x = 10;  // 全局变量
    void foo() {
        cout << x << endl;  // 访问全局变量
    }
    ```
    

### 5. **常见的复合数据类型**

C++ 中的 **复合数据类型** 是由多个基本数据类型（如整数、字符、浮点数等）组合而成的数据结构。常见的复合数据类型包括 **数组（Array）**、**结构体（Struct）**、**共用体（Union）**、**枚举（Enum）** 和 **类（Class）**。

下面我将详细介绍这些复合数据类型及其使用方式。

### 1. 数组（Array）

数组是存储多个相同类型元素的集合，可以通过索引访问这些元素。

#### 数组的定义和使用：

```cpp
#include <iostream>
using namespace std;

int main() {
    int arr[5] = {1, 2, 3, 4, 5};  // 定义一个包含 5 个整数的数组

    // 访问和输出数组元素
    for (int i = 0; i < 5; i++) {
        cout << "arr[" << i << "] = " << arr[i] << endl;
    }

    return 0;
}
```

#### 数组特点：

- **类型一致**：数组中的所有元素类型相同。
- **索引**：数组的索引从 `0` 开始，最大索引为 `size - 1`，其中 `size` 是数组的大小。
- **大小固定**：一旦定义了数组的大小，大小不能动态改变。

#### 多维数组：

C++ 还支持多维数组，例如二维数组：

```cpp
int arr[3][4] = {
    {1, 2, 3, 4},
    {5, 6, 7, 8},
    {9, 10, 11, 12}
};
```

### 2. 结构体（Struct）

结构体是 C++ 中用来定义自定义数据类型的一种方式，可以将不同类型的数据组合在一起。

#### 结构体的定义和使用：

```cpp
#include <iostream>
using namespace std;

// 定义一个结构体类型
struct Person {
    string name;
    int age;
};

int main() {
    Person person1 = {"Alice", 30};  // 创建结构体实例并初始化

    // 访问结构体成员
    cout << "Name: " << person1.name << endl;
    cout << "Age: " << person1.age << endl;

    return 0;
}
```

#### 结构体特点：

- **不同类型**：结构体成员可以是不同类型的数据（如整数、字符串、浮点数等）。
- **成员访问**：通过 `.` 操作符访问结构体的成员。

#### 结构体与类的区别：

- 结构体的成员默认是 **public**，而类的成员默认是 **private**。
- 否则，结构体和类的功能几乎是一样的。

### 3. 共用体（Union）

共用体是一种特殊的复合数据类型，它的所有成员共用同一块内存空间。这意味着在同一时刻，只有一个成员可以存储数据。

#### 共用体的定义和使用：

```cpp
#include <iostream>
using namespace std;

// 定义一个共用体类型
union Data {
    int i;
    float f;
    char c;
};

int main() {
    Data data;  // 创建共用体实例

    data.i = 10;
    cout << "Integer: " << data.i << endl;

    data.f = 3.14;
    cout << "Float: " << data.f << endl;

    data.c = 'A';
    cout << "Char: " << data.c << endl;

    // 注意，只有最后赋值的数据会有效，其他数据会被覆盖
    return 0;
}
```

#### 共用体特点：

- **共用内存**：所有成员共享同一内存位置，因此只能存储一个值。
- **节省内存**：当你需要存储不同类型的数据，但每次只需要一个类型时，共用体能节省内存。

### 4. 枚举（Enum）

枚举是一种数据类型，它由一组命名的整型常量组成。可以通过枚举来定义一组相关的常量值。

#### 枚举的定义和使用：

```cpp
#include <iostream>
using namespace std;

// 定义一个枚举类型
enum Day { Sunday, Monday, Tuesday, Wednesday, Thursday, Friday, Saturday };

int main() {
    Day today = Wednesday;  // 使用枚举值

    // 输出枚举值对应的整数值
    cout << "Today is: " << today << endl;  // 输出：Today is: 3 (Wednesday)
    return 0;
}
```

#### 枚举特点：

- **默认值**：枚举值从 `0` 开始递增，除非显式指定其他值。
- **强类型**：C++11 以后，`enum class` 提供了强类型枚举，可以避免隐式转换问题。

#### 强类型枚举：

```cpp
enum class Color { Red, Green, Blue };
Color color = Color::Red;
```

### 5. 类（Class）

类是 C++ 中的核心概念之一，用于定义对象的模板，类可以包含数据成员（变量）和成员函数（方法）。

#### 类的定义和使用：

```cpp
#include <iostream>
using namespace std;

// 定义一个类
class Person {
public:
    string name;
    int age;

    // 构造函数
    Person(string n, int a) : name(n), age(a) {}

    // 成员函数
    void introduce() {
        cout << "Hi, my name is " << name << " and I am " << age << " years old." << endl;
    }
};

int main() {
    // 创建类的对象
    Person person1("Alice", 30);

    // 调用成员函数
    person1.introduce();
    
    return 0;
}
```

#### 类特点：

- **封装**：类将数据和操作数据的函数封装在一起，提供了对数据的控制。
- **继承**：类支持继承，使得可以创建子类，继承父类的属性和行为。
- **多态**：通过虚函数支持多态，即可以在派生类中重写基类的函数。

### 总结：

- **数组**：固定大小，元素类型相同的集合。
- **结构体**：存储不同类型数据的集合，每个成员可以是不同类型。
- **共用体**：所有成员共用同一块内存，节省内存。
- **枚举**：一组命名的常量，通常用来表示状态或选项。
- **类**：定义对象，支持封装、继承和多态，是面向对象编程的核心。

通过理解这些复合数据类型，你可以更高效地组织和管理程序中的数据。
### 6. **总结**

- C++ 中有多种基本数据类型，包括整数类型、浮点类型、字符类型、布尔类型等。
- 使用修饰符可以控制数据类型的大小、符号和精度。
- `const` 可以声明常量，`std::string` 可以用于表示字符串。
- C++ 支持类型转换，可以通过隐式或显式转换来处理不同的数据类型。
